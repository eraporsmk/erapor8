import{_ as oe}from"./ConfirmDialog-D4ApzwFF.js";import{a as se,_ as le}from"./AppTextField-uDjqgyV_.js";import{_ as ie}from"./TablePagination-D4QfmksK.js";import{V as re}from"./VSpacer-Br8lpgeq.js";import{c6 as ne,a as ue,c as H,o as N,d as T,b as t,f as J,l as ce,e as o,t as A,v as R,m as l,a1 as M,$ as K,F as de,h as me,x as fe,a6 as pe,a7 as ge,ao as ve,bK as be,aO as ke,aQ as ye,ae as Ve,r as v,b0 as G,Q as xe,cf as _e,br as Se,w as F,G as Ce,cg as Te,Y as X,a8 as we,q as W,b7 as Ae,ak as Pe,aT as he,al as De,bL as Be,am as qe,bx as Ie,az as $e,ch as Le,bA as Ue,aX as Ne,ci as Oe,at as Ee,ay as Qe,a3 as I}from"./main-qkHrXkc4.js";import{V as Re}from"./VDivider-BJOoipq5.js";import{V as Me}from"./VDataTableServer-BAcPQggC.js";import{u as Fe,a as Z,f as je,m as ze}from"./forwardRefs-B7WXio9P.js";import{u as Ye}from"./useApi-Dp9jxlMN.js";import{c as He}from"./createUrl-DPMdrIhE.js";import{$ as ee}from"./api-DEnPzuxT.js";import{V as Ke}from"./VDialog-D5oZ08uU.js";import{V as te}from"./VCard-DLmDpUr4.js";import{V as ae}from"./VCardText-GlWye268.js";import{V as O,a as V}from"./VRow-SRN4MEaa.js";import"./VLabel-BAOxDQxB.js";import"./VImg-jU4EjX8n.js";import"./VTextField-DUDanKVU.js";import"./VList-Dy22zsne.js";import"./VAvatar-BC1zbJAc.js";import"./VMenu-CURS9V2H.js";import"./VSelectionControl-aLnkY-Qf.js";import"./VChip-D4J-LAp5.js";/* empty css              */import"./VTable-CDN-6S4R.js";import"./index-9rIf2CJL.js";const Ge={class:"d-flex flex-wrap gap-4 ma-6"},Xe={class:"d-flex gap-4 flex-wrap align-center"},Je={class:"d-flex align-center"},We={__name:"DataTables",props:{page:{type:Number,required:!0},per_page:{type:Number,required:!0},headers:{type:Array,required:!0},items:{type:Array,required:!0},totalItems:{type:Number,required:!0},searchQuery:{type:String,required:!0},btnAdd:{type:Object,required:!0}},emits:["update:searchQuery","update:per_page","update:page","aksi","btnClick","option"],setup(a,{emit:f}){const{t:s}=ne(),n=a,m=f,y=(c,S)=>{m("aksi",{aksi:c,item:S})},p=c=>{m("update:per_page",c)},_=c=>{m("update:page",c)},w=c=>{m("update:searchQuery",c)},h=c=>{m("btnClick",c)},D=c=>{m("option",c)};return(c,S)=>{const $=se,P=le,b=ue("IconBtn"),x=ie;return N(),H("div",null,[T("div",Ge,[T("div",Xe,[t($,{"model-value":n.per_page,items:[5,10,20,25,50],"onUpdate:modelValue":p},null,8,["model-value"])]),t(re),T("div",Je,[t(P,{"model-value":a.searchQuery,"onUpdate:modelValue":w,placeholder:"Search...",style:{"inline-size":"200px"}},null,8,["model-value"]),n.btnAdd&&Object.keys(n.btnAdd).length?(N(),J(M,{key:0,class:"ms-3",color:a.btnAdd.color,"prepend-icon":a.btnAdd.icon,onClick:S[0]||(S[0]=k=>h(a.btnAdd.action))},{default:o(()=>[A(R(l(s)(a.btnAdd.text)),1)]),_:1},8,["color","prepend-icon"])):ce("",!0)])]),t(Re,{class:"mt-4"}),t(Me,{"model-value":n.page,headers:a.headers,items:a.items,"items-length":a.totalItems,class:"text-no-wrap","onUpdate:options":D},{header:o(({props:{headers:k}})=>[T("thead",null,[T("tr",null,[(N(!0),H(de,null,me(k,u=>(N(),H("th",{class:fe(u.class)},[T("span",null,R(l(s)(u.text)),1)],2))),256))])])]),"item.actions":o(({item:k})=>[t(b,{title:"Edit",onClick:u=>y("edit",k)},{default:o(()=>[t(K,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),t(b,{title:"Delete",onClick:u=>y("delete",k)},{default:o(()=>[t(K,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),bottom:o(()=>[A(R(c.counter)+" ",1),t(x,{page:a.page,onChangePage:_,"items-per-page":a.per_page,"total-items":a.totalItems},null,8,["page","items-per-page","total-items"])]),_:1},8,["model-value","headers","items","items-length"])])}}};function Ze(a){const f=G(a());let s=-1;function n(){clearInterval(s)}function m(){n(),$e(()=>f.value=a())}function y(p){const _=p?getComputedStyle(p):{transitionDuration:.2},w=parseFloat(_.transitionDuration)*1e3||200;if(n(),f.value<=0)return;const h=performance.now();s=window.setInterval(()=>{const D=performance.now()-h+w;f.value=Math.max(a()-D,0),f.value<=0&&n()},w)}return Ie(n),{clear:n,time:f,start:y,reset:m}}const et=ge({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...qe({location:"bottom"}),...Be(),...De(),...he(),...Pe(),...Ae(ze({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),tt=pe()({name:"VSnackbar",props:et(),emits:{"update:modelValue":a=>!0},setup(a,f){let{slots:s}=f;const n=ve(a,"modelValue"),{positionClasses:m}=be(a),{scopeId:y}=Fe(),{themeClasses:p}=ke(a),{colorClasses:_,colorStyles:w,variantClasses:h}=ye(a),{roundedClasses:D}=Ve(a),c=Ze(()=>Number(a.timeout)),S=v(),$=v(),P=G(!1),b=G(0),x=v(),k=xe(_e,void 0);Se(()=>!!k,()=>{const g=Le();Ue(()=>{x.value=g.mainStyles.value})}),F(n,d),F(()=>a.timeout,d),Ce(()=>{n.value&&d()});let u=-1;function d(){c.reset(),window.clearTimeout(u);const g=Number(a.timeout);if(!n.value||g===-1)return;const q=Te($.value);c.start(q),u=window.setTimeout(()=>{n.value=!1},g)}function B(){c.reset(),window.clearTimeout(u)}function j(){P.value=!0,B()}function E(){P.value=!1,d()}function L(g){b.value=g.touches[0].clientY}function Q(g){Math.abs(b.value-g.changedTouches[0].clientY)>50&&(n.value=!1)}function z(){P.value&&E()}const Y=X(()=>a.location.split(" ").reduce((g,q)=>(g[`v-snackbar--${q}`]=!0,g),{}));return we(()=>{const g=Z.filterProps(a),q=!!(s.default||s.text||a.text);return t(Z,W({ref:S,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":a.multiLine&&!a.vertical,"v-snackbar--timer":!!a.timer,"v-snackbar--vertical":a.vertical},Y.value,m.value,a.class],style:[x.value,a.style]},g,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,contentProps:W({class:["v-snackbar__wrapper",p.value,_.value,D.value,h.value],style:[w.value],onPointerenter:j,onPointerleave:E},g.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:L,onTouchend:Q,onAfterLeave:z},y),{default:()=>{var i,e;return[Ne(!1,"v-snackbar"),a.timer&&!P.value&&t("div",{key:"timer",class:"v-snackbar__timer"},[t(Oe,{ref:$,color:typeof a.timer=="string"?a.timer:"info",max:a.timeout,"model-value":c.time.value},null)]),q&&t("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((i=s.text)==null?void 0:i.call(s))??a.text,(e=s.default)==null?void 0:e.call(s)]),s.actions&&t(Ee,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[t("div",{class:"v-snackbar__actions"},[s.actions({isActive:n})])]})]},activator:s.activator})}),je({},S)}}),at={class:"text-center"},lt={class:"text-center text-white my-3"},nt=["innerHTML"],ot={class:"text-center"},st={__name:"ShowAlert",props:{icon:{type:String,required:!0},title:{type:String,required:!0},text:{type:String,required:!0},color:{type:String,required:!0},isSnackbarVisible:{type:Boolean,required:!0},isSnackbarClicked:{type:Boolean,required:!0},disableTimeOut:{type:Boolean,default:!0}},emits:["update:isSnackbarVisible","update:isSnackbarClicked"],setup(a,{emit:f}){const s=a,n=f,m=()=>{n("update:isSnackbarVisible",!1),n("update:isSnackbarClicked",!0)};return F(s,()=>{s.isSnackbarVisible&&s.disableTimeOut&&setTimeout(function(){n("update:isSnackbarVisible",!1)},4e3)}),(y,p)=>(N(),J(tt,{location:"center",color:s.color,"multi-line":"",modelValue:s.isSnackbarVisible,"onUpdate:modelValue":p[0]||(p[0]=_=>s.isSnackbarVisible=_)},{default:o(()=>[T("div",at,[t(K,{size:"50",icon:s.icon},null,8,["icon"])]),T("h1",lt,R(s.title),1),T("p",{class:"text-center",innerHTML:s.text},null,8,nt),T("div",ot,[t(M,{color:s.color,onClick:m,autofocus:""},{default:o(()=>p[1]||(p[1]=[A("OK")])),_:1},8,["color"])])]),_:1},8,["color","modelValue"]))}},It={__name:"languages",async setup(a){let f,s;const{t:n}=ne(),m=v(""),y=v(10),p=v(1),_=v("lang_id"),w=v("ASC"),h=i=>{var e,C;i.sortBy.length&&(_.value=(e=i.sortBy[0])==null?void 0:e.key,w.value=(C=i.sortBy[0])==null?void 0:C.order)},D=[{title:"ID",key:"lang_id"},{title:"Portuguese",key:"pt"},{title:"English",key:"en",sortable:!1},{title:"Tetun",key:"te",sortable:!1},{title:"Indonesia",key:"id",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],{data:c,execute:S}=([f,s]=Qe(()=>Ye(He("/settings/languages",{query:{q:m,page:p,per_page:y,sortBy:_,orderBy:w}}))),f=await f,s(),f),$=X(()=>c.value.data.data),P=X(()=>c.value.data.total),b=v(!1),x=v(!1),k=v(!1),u=v({lang_id:null,pt:null,en:null,te:null,id:null}),d=v({icon:void 0,title:void 0,text:void 0,color:void 0}),B=v({pt:void 0,en:void 0,te:void 0,id:void 0}),j=()=>{u.value={lang_id:null,pt:null,en:null,te:null,id:null},d.value={icon:null,title:null,text:null,color:null}},E=async()=>{await ee("/settings/languages",{method:"POST",body:u.value,onResponse({request:i,response:e,options:C}){let U=e._data;console.log(e),U.errors?B.value=U.errors:(d.value=U.data,b.value=!1,x.value=!0)}})},L=v(!1),Q=v(),z=async i=>{i&&await ee(`/settings/destroy/languages/${Q.value}`,{method:"DELETE",onResponse({request:e,response:C,options:U}){let r=C._data;d.value=r,S()}})},Y=async i=>{Q.value=i,L.value=!0},g=async i=>{console.log(i),i.aksi=="edit"&&(u.value={lang_id:i.item.lang_id,pt:i.item.pt,en:i.item.en,te:i.item.te,id:i.item.id},b.value=!0),i.aksi=="delete"&&Y(i.item.lang_id)},q=async i=>{console.log(i),b.value=!0};return F([b,x,k,u.value],()=>{!x.value&&b.value&&!u.value.lang_id&&j(),k.value&&S()}),(i,e)=>{const C=le,U=oe;return N(),J(te,{title:l(n)("Languages"),class:"mb-6"},{default:o(()=>[t(We,{per_page:l(y),headers:D,items:l($),totalItems:l(P),page:l(p),btnAdd:{text:"Add New",icon:"tabler-plus",color:"primary",action:"add-lang"},onAksi:g,onBtnClick:q,"onUpdate:per_page":e[0]||(e[0]=r=>I(y)?y.value=r:null),"onUpdate:page":e[1]||(e[1]=r=>I(p)?p.value=r:null),searchQuery:l(m),"onUpdate:searchQuery":e[2]||(e[2]=r=>I(m)?m.value=r:null),onOption:h},null,8,["per_page","items","totalItems","page","searchQuery"]),t(Ke,{modelValue:l(b),"onUpdate:modelValue":e[9]||(e[9]=r=>I(b)?b.value=r:null),"max-width":"800"},{default:o(()=>[t(te,{title:l(u).lang_id?l(n)("Edit Language"):l(n)("Add New Language")},{default:o(()=>[t(ae,null,{default:o(()=>[t(O,null,{default:o(()=>[t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[13]||(e[13]=[A("Portuguese")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).pt,"onUpdate:modelValue":e[3]||(e[3]=r=>l(u).pt=r),"error-messages":l(B).pt,placeholder:"Portuguese (default language)"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[14]||(e[14]=[A("English")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).en,"onUpdate:modelValue":e[4]||(e[4]=r=>l(u).en=r),"error-messages":l(B).en,placeholder:"English"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[15]||(e[15]=[A("Tetun")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).te,"onUpdate:modelValue":e[5]||(e[5]=r=>l(u).te=r),"error-messages":l(B).te,placeholder:"Tetun"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[16]||(e[16]=[A("Indonesia")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).id,"onUpdate:modelValue":e[6]||(e[6]=r=>l(u).id=r),"error-messages":l(B).id,placeholder:"Indonesia"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(ae,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[t(M,{variant:"tonal",color:"secondary",onClick:e[7]||(e[7]=r=>b.value=!1)},{default:o(()=>e[17]||(e[17]=[A("Batal")])),_:1}),t(M,{onClick:e[8]||(e[8]=r=>E())},{default:o(()=>e[18]||(e[18]=[A("Simpan")])),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),t(st,{color:l(d).color,icon:l(d).icon,title:l(d).title,text:l(d).text,"disable-time-out":!1,isSnackbarVisible:l(x),"onUpdate:isSnackbarVisible":e[10]||(e[10]=r=>I(x)?x.value=r:null),isSnackbarClicked:l(k),"onUpdate:isSnackbarClicked":e[11]||(e[11]=r=>I(k)?k.value=r:null)},null,8,["color","icon","title","text","isSnackbarVisible","isSnackbarClicked"]),t(U,{isDialogVisible:l(L),"onUpdate:isDialogVisible":e[12]||(e[12]=r=>I(L)?L.value=r:null),"confirmation-question":l(n)("Are you sure?"),"cancel-msg":l(n)("Cancel Delete"),"cancel-title":l(n)("Cancel"),"confirm-msg":l(d).text?l(n)(l(d).text):"","confirm-title":l(d).title?l(n)(l(d).title):"","confirm-icon":l(d).icon??"","confirm-color":l(d).color??"",onConfirm:z},null,8,["isDialogVisible","confirmation-question","cancel-msg","cancel-title","confirm-msg","confirm-title","confirm-icon","confirm-color"])]),_:1},8,["title"])}}};export{It as default};
