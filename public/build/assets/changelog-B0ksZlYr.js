import{u as I,c as U}from"./createUrl-BHZjIlxD.js";import{V as $,a as z,c as F,b as V}from"./VCard-B2TC0Nxu.js";import{V as C}from"./VDivider-Dmk-6-AW.js";import{V as G,a as S,b as D,c as W}from"./VTabs-CdmRIJGk.js";import{G as q,r,c as m,b as t,e as l,o as i,t as b,m as s,a2 as y,F as L,h as B,f as x,am as M,d as n,an as E,aa as N,$ as R,v as g}from"./main-B_EokE63.js";import{V as j}from"./VTable-CZ8RdV8r.js";import"./index-BxkgbwWS.js";import"./VAvatar-bmjgecIW.js";import"./VImg-B7yo4_gf.js";import"./forwardRefs-DWGaNmQL.js";import"./scopeId-B4dKvB8-.js";import"./ssrBoot-B0CjIg9E.js";import"./VSlideGroup-DhmVTft4.js";const J=["innerHTML"],K={key:0,class:"text-center"},O={class:"text-center"},Q={class:"py-2"},X=["innerHTML"],Y={class:"text-center"},pe={__name:"changelog",setup(Z){q(async()=>{await f()});const o=r("changelog"),p=r(!1),h=r(),_=r([]),u=r({page:1,perPage:10}),f=async()=>{var d,e;p.value=!0;try{let c=(await I(U(`/setting/${o.value}`,{query:{page:u.value.page,per_page:u.value.perPage}}))).data.value;o.value=="changelog"?h.value=c.data:(_.value=c.data,k.value=!((d=c.headers.Link[0])!=null&&d.includes("first")),T.value=!((e=c.headers.Link[0])!=null&&e.includes("last")))}catch(a){console.error(a)}finally{p.value=!1}},P=async()=>{await f()},A=[{name:"changelog",icon:"tabler-brand-google-play",title:"Aplikasi"},{name:"github",icon:"tabler-brand-github",title:"Github"}],H=d=>d.replace(/\n/g,"<br />"),v=r("next"),k=r(!0),T=r(!1),w=async d=>{d=="next"?u.value.page=u.value.page+1:u.value.page=u.value.page-1,await f()};return(d,e)=>(i(),m("div",null,[t($,null,{default:l(()=>[t(z,{class:"pb-4"},{default:l(()=>[t(F,null,{default:l(()=>e[5]||(e[5]=[b("Daftar Perubahan Aplikasi")])),_:1})]),_:1}),t(C),t(G,{modelValue:s(o),"onUpdate:modelValue":[e[0]||(e[0]=a=>y(o)?o.value=a:null),P],grow:"",stacked:""},{default:l(()=>[(i(),m(L,null,B(A,a=>t(W,{key:a.name,value:a.name},{default:l(()=>[t(R,{icon:a.icon,class:"mb-2"},null,8,["icon"]),n("span",null,g(a.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),t(S,{modelValue:s(o),"onUpdate:modelValue":e[4]||(e[4]=a=>y(o)?o.value=a:null)},{default:l(()=>[t(D,{value:"changelog"},{default:l(()=>[s(p)?(i(),x(V,{key:0,class:"text-center"},{default:l(()=>[t(M,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})):(i(),x(V,{key:1},{default:l(()=>[n("span",{innerHTML:s(h)},null,8,J)]),_:1}))]),_:1}),t(D,{value:"github"},{default:l(()=>[s(p)?(i(),m("div",K,[t(M,{size:60,indeterminate:"",color:"error",class:"my-10"})])):(i(),x(j,{key:1},{default:l(()=>[e[6]||(e[6]=n("thead",null,[n("tr",null,[n("th",{class:"text-center"},"No"),n("th",null,"Date"),n("th",null,"Commit"),n("th",{class:"text-center"},"Author")])],-1)),n("tbody",null,[(i(!0),m(L,null,B(s(_),(a,c)=>(i(),m("tr",null,[n("td",O,g(c+1+10*s(u).page-10),1),n("td",null,g(new Date(a.commit.author.date).toLocaleString("id-ID",{hour12:!1,day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})),1),n("td",Q,[n("span",{innerHTML:H(a.commit.message)},null,8,X)]),n("td",Y,g(a.commit.author.name),1)]))),256))])]),_:1})),t(C),t(V,{class:"text-center"},{default:l(()=>[t(E,{modelValue:s(v),"onUpdate:modelValue":e[3]||(e[3]=a=>y(v)?v.value=a:null),divided:"",class:"navigasi"},{default:l(()=>[t(N,{value:"prev",disabled:s(k),onClick:e[1]||(e[1]=a=>w("prev"))},{default:l(()=>e[7]||(e[7]=[b(" « prev ")])),_:1},8,["disabled"]),t(N,{value:"next",disabled:s(T),onClick:e[2]||(e[2]=a=>w("next"))},{default:l(()=>e[8]||(e[8]=[b(" next » ")])),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}};export{pe as default};
